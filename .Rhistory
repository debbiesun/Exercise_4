alpha = .6,
size = .2) +
theme_map()
Starbucks
starbucks
Starbucks
Starbucks%>%
filter(State/Province == "MN")
Starbucks%>%
filter(Starbucks$`State/Province` == "MN")
Starbucks
Starbucks%>%
filter(City %in% c("Anoka","Ramsey"))
Starbucks%>%
filter(`State/Province` == "MN")
world <- get_stamenmap(
bbox = c(left = -180, bottom = -57, right = 179, top = 82.1),
maptype = "terrain",
zoom = 2)
ggmap(world) + # creates the map "background"
geom_point(data = Starbucks,
aes(x = Longitude, y = Latitude, color =`Ownership Type`),
alpha = .6,
size = .2) +
theme_map()
Starbucks%>%
filter(`State/Province` == "MN")%>%
filter(City %in% c("Anoka","Minneapolis","Saint Paul", "St.Paul"))
Starbucks%>%
filter(`State/Province` == "MN")
Starbucks%>%
filter(`State/Province` == "MN")%>%
filter(City %in% c("Anoka","Minneapolis","Saint Paul", "St. Paul"))
Twin <- get_stamenmap(
bbox = c(left = -95, bottom = 44, right = -91, top = 45.8),
maptype = "terrain",
zoom = 2)
Starbucks%>%
filter(`State/Province` == "MN")%>%
filter(City %in% c("Anoka","Minneapolis","Saint Paul", "St. Paul"))
MN <- Starbucks%>%
filter(`State/Province` == "MN")%>%
filter(City %in% c("Anoka","Minneapolis","Saint Paul", "St. Paul"))
Twin <- get_stamenmap(
bbox = c(left = -95, bottom = 44, right = -91, top = 45.8),
maptype = "terrain",
zoom = 2)
ggmap(Twin) + # creates the map "background"
geom_point(data = MN,
aes(x = Longitude, y = Latitude),
alpha = .6,
size = .2) +
theme_map()
Twin <- get_stamenmap(
bbox = c(left = -95, bottom = 44, right = -91, top = 45.8),
maptype = "terrain",
zoom = 2)
Twin
ggmap(Twin)
MN <- Starbucks%>%
filter(`State/Province` == "MN")%>%
filter(City %in% c("Anoka","Minneapolis","Saint Paul", "St. Paul"))
Twin <- get_stamenmap(
bbox = c(left = -95, bottom = 44, right = -91, top = 45.8),
maptype = "terrain",
zoom = 9)
ggmap(Twin) + # creates the map "background"
geom_point(data = MN,
aes(x = Longitude, y = Latitude),
alpha = .6,
size = .2) +
theme_map()
MN <- Starbucks%>%
filter(`State/Province` == "MN")%>%
filter(City %in% c("Anoka","Minneapolis","Saint Paul", "St. Paul"))
Twin <- get_stamenmap(
bbox = c(left = -93.8, bottom = 44.7, right = -92, top = 45.4),
maptype = "terrain",
zoom = 10)
ggmap(Twin) + # creates the map "background"
geom_point(data = MN,
aes(x = Longitude, y = Latitude),
alpha = .6,
size = .2) +
theme_map()
MN <- Starbucks%>%
filter(`State/Province` == "MN")%>%
filter(City %in% c("Anoka","Minneapolis","Saint Paul", "St. Paul"))
Twin <- get_stamenmap(
bbox = c(left = -93.8, bottom = 44.7, right = -92, top = 45.4),
maptype = "terrain",
zoom = 10)
ggmap(Twin) + # creates the map "background"
geom_point(data = MN,
aes(x = Longitude, y = Latitude, color =`Ownership Type`),
alpha = .6,
size = .2) +
theme_map()
MN <- Starbucks%>%
filter(`State/Province` == "MN")%>%
filter(City %in% c("Anoka","Minneapolis","Saint Paul", "St. Paul"))
Twin <- get_stamenmap(
bbox = c(left = -93.8, bottom = 44.7, right = -92, top = 45.4),
maptype = "terrain",
zoom = 10)
ggmap(Twin)
geom_point(data = MN,
aes(x = Longitude, y = Latitude, color =`Ownership Type`),
alpha = .6,
size = .6) +
theme_map()
MN <- Starbucks%>%
filter(`State/Province` == "MN")%>%
filter(City %in% c("Anoka","Minneapolis","Saint Paul", "St. Paul"))
Twin <- get_stamenmap(
bbox = c(left = -93.8, bottom = 44.7, right = -92, top = 45.4),
maptype = "terrain",
zoom = 10)
ggmap(Twin) +
geom_point(data = MN,
aes(x = Longitude, y = Latitude, color =`Ownership Type`),
alpha = .6,
size = .6) +
theme_map()
MN <- Starbucks%>%
filter(`State/Province` == "MN")%>%
filter(City %in% c("Anoka","Minneapolis","Saint Paul", "St. Paul"))
Twin <- get_stamenmap(
bbox = c(left = -93.6, bottom = 44.7, right = -92.8, top = 45.2),
maptype = "terrain",
zoom = 11)
ggmap(Twin) +
geom_point(data = MN,
aes(x = Longitude, y = Latitude, color =`Ownership Type`),
alpha = .6,
size = .6) +
theme_map()
Twin <- get_stamenmap(
bbox = c(left = -93.6, bottom = 44.7, right = -92.8, top = 45.2),
maptype = "terrain",
zoom = 12)
ggmap(Twin) +
geom_point(data = MN,
aes(x = Longitude, y = Latitude, color =`Ownership Type`),
alpha = .6,
size = .6) +
theme_map()
Twin <- get_stamenmap(
bbox = c(left = -93.6, bottom = 44.7, right = -92.8, top = 45.2),
maptype = "terrain",
zoom = 8)
ggmap(Twin) +
geom_point(data = MN,
aes(x = Longitude, y = Latitude, color =`Ownership Type`),
alpha = .6,
size = .6) +
theme_map()
Twin <- get_stamenmap(
bbox = c(left = -93.6, bottom = 44.7, right = -92.8, top = 45.2),
maptype =  "toner",
zoom = 11)
ggmap(Twin) +
geom_point(data = MN,
aes(x = Longitude, y = Latitude, color =`Ownership Type`),
alpha = .6,
size = .6) +
theme_map()
Twin <- get_stamenmap(
bbox = c(left = -93.6, bottom = 44.7, right = -92.8, top = 45.2),
maptype = "terrain",
zoom = 11)
ggmap(Twin) +
geom_point(data = MN,
aes(x = Longitude, y = Latitude, color =`Ownership Type`),
alpha = .6,
size = .6) +
theme_map()+
annotate(geom = "text", x = 44.9352, y = -93.1684, label = "Macalester")
Twin <- get_stamenmap(
bbox = c(left = -93.6, bottom = 44.7, right = -92.8, top = 45.2),
maptype = "terrain",
zoom = 11)
ggmap(Twin) +
geom_point(data = MN,
aes(x = Longitude, y = Latitude, color =`Ownership Type`),
alpha = .6,
size = .6) +
theme_map()+
annotate(geom = "text", y = 44.9352, x = -93.1684, label = "Macalester")
census_pop_est_2018 <- read_csv("https://www.dropbox.com/s/6txwv3b4ng7pepe/us_census_2018_state_pop_est.csv?dl=1") %>%
separate(state, into = c("dot","state"), extra = "merge") %>%
select(-dot) %>%
mutate(state = str_to_lower(state))
starbucks_with_2018_pop_est <-
starbucks_us_by_state %>%
left_join(census_pop_est_2018,
by = c("state_name" = "state")) %>%
mutate(starbucks_per_10000 = (n/est_pop_2018)*10000)
# Starbucks locations
Starbucks <- read_csv("https://www.macalester.edu/~ajohns24/Data/Starbucks.csv")
starbucks_us_by_state <- Starbucks %>%
filter(Country == "US") %>%
count(`State/Province`) %>%
mutate(state_name = str_to_lower(abbr2state(`State/Province`)))
# Lisa's favorite St. Paul places - example for you to create your own data
favorite_stp_by_lisa <- tibble(
place = c("Home", "Macalester College", "Adams Spanish Immersion",
"Spirit Gymnastics", "Bama & Bapa", "Now Bikes",
"Dance Spectrum", "Pizza Luce", "Brunson's"),
long = c(-93.1405743, -93.1712321, -93.1451796,
-93.1650563, -93.1542883, -93.1696608,
-93.1393172, -93.1524256, -93.0753863),
lat = c(44.950576, 44.9378965, 44.9237914,
44.9654609, 44.9295072, 44.9436813,
44.9399922, 44.9468848, 44.9700727)
)
#COVID-19 data from the New York Times
covid19 <- read_csv("https://raw.githubusercontent.com/nytimes/covid-19-data/master/us-states.csv")
census_pop_est_2018 <- read_csv("https://www.dropbox.com/s/6txwv3b4ng7pepe/us_census_2018_state_pop_est.csv?dl=1") %>%
separate(state, into = c("dot","state"), extra = "merge") %>%
select(-dot) %>%
mutate(state = str_to_lower(state))
starbucks_with_2018_pop_est <-
starbucks_us_by_state %>%
left_join(census_pop_est_2018,
by = c("state_name" = "state")) %>%
mutate(starbucks_per_10000 = (n/est_pop_2018)*10000)
View(starbucks_with_2018_pop_est)
View(census_pop_est_2018)
census_pop_est_2018 <- read_csv("https://www.dropbox.com/s/6txwv3b4ng7pepe/us_census_2018_state_pop_est.csv?dl=1") %>%
separate(state, into = c("dot","state"), extra = "merge") %>%
select(-dot) %>%
mutate(state = str_to_lower(state))
starbucks_with_2018_pop_est <-
starbucks_us_by_state %>%
left_join(census_pop_est_2018,
by = c("state_name" = "state")) %>%
mutate(starbucks_per_10000 = (n/est_pop_2018)*10000)
state_map <- map_data("state")
state_map <- map_data("state")
starbucks_with_2018_pop_est%>%
ggplot()+
geom_map(map = states_map,
aes(map_id = state_name,
fill = starbucks_per_10000)) +
geom_point(data = Starbucks,
aes(x = Longitude, y = Latitude),
size = .05,
alpha = .2) +
expand_limits(x = states_map$long, y = states_map$lat) +
labs(title = "Starbucks in US") +
theme_map() +
theme(legend.background = element_blank())
state_map <- map_data("state")
starbucks_with_2018_pop_est%>%
ggplot()+
geom_map(map = states_map,
aes(map_id = state_name,
fill = starbucks_per_10000)) +
geom_point(data = Starbucks,
aes(x = Longitude, y = Latitude),
size = .05,
alpha = .2) +
expand_limits(x = states_map$long, y = states_map$lat) +
labs(title = "Starbucks in US") +
theme_map() +
theme(legend.background = element_blank())
state_map <- map_data("state")
starbucks_with_2018_pop_est%>%
ggplot()+
geom_map(map = state_map,
aes(map_id = state_name,
fill = starbucks_per_10000)) +
geom_point(data = Starbucks,
aes(x = Longitude, y = Latitude),
size = .05,
alpha = .2) +
expand_limits(x = states_map$long, y = states_map$lat) +
labs(title = "Starbucks in US") +
theme_map() +
theme(legend.background = element_blank())
state_map <- map_data("state")
starbucks_with_2018_pop_est%>%
ggplot()+
geom_map(map = state_map,
aes(map_id = state_name,
fill = starbucks_per_10000)) +
geom_point(data = Starbucks,
aes(x = Longitude, y = Latitude),
size = .05,
alpha = .2) +
expand_limits(x = state_map$long, y = state_map$lat) +
labs(title = "Starbucks in US") +
theme_map() +
theme(legend.background = element_blank())
state_map <- map_data("state")
starbucks_with_2018_pop_est%>%
ggplot()+
geom_map(map = state_map,
aes(map_id = state_name,
color = starbucks_per_10000)) +
geom_point(data = Starbucks,
aes(x = Longitude, y = Latitude),
size = .05,
alpha = .2) +
expand_limits(x = state_map$long, y = state_map$lat) +
labs(title = "Starbucks in US") +
theme_map() +
theme(legend.background = element_blank())
state_map <- map_data("state")
starbucks_with_2018_pop_est%>%
ggplot()+
geom_map(map = state_map,
aes(map_id = state_name,
fill = starbucks_per_10000)) +
geom_point(data = Starbucks,
aes(x = Longitude, y = Latitude),
size = .05,
alpha = .2,
color = "green") +
expand_limits(x = state_map$long, y = state_map$lat) +
labs(title = "Starbucks in US") +
theme_map() +
theme(legend.background = element_blank())
state_map <- map_data("state")
starbucks_with_2018_pop_est%>%
ggplot()+
geom_map(map = state_map,
aes(map_id = state_name,
fill = starbucks_per_10000)) +
geom_point(data = Starbucks,
aes(x = Longitude, y = Latitude),
size = .05,
alpha = .2,
color = "darkgreen") +
expand_limits(x = state_map$long, y = state_map$lat) +
labs(title = "Starbucks in US") +
theme_map() +
theme(legend.background = element_blank())
state_map <- map_data("state")
starbucks_with_2018_pop_est%>%
ggplot()+
geom_map(map = state_map,
aes(map_id = state_name,
fill = starbucks_per_10000)) +
geom_point(data = Starbucks,
aes(x = Longitude, y = Latitude),
size = .5,
alpha = .2,
color = "darkgreen") +
expand_limits(x = state_map$long, y = state_map$lat) +
labs(title = "Starbucks in US") +
theme_map() +
theme(legend.background = element_blank())
state_map <- map_data("state")
starbucks_with_2018_pop_est%>%
ggplot()+
geom_map(map = state_map,
aes(map_id = state_name,
fill = starbucks_per_10000)) +
geom_point(data = Starbucks,
aes(x = Longitude, y = Latitude),
size = .05,
alpha = .2,
color = "darkgreen") +
expand_limits(x = state_map$long, y = state_map$lat) +
labs(title = "Starbucks in US") +
theme_map() +
theme(legend.background = element_blank())
state_map <- map_data("state")%>%
select(-"Alaska", -"Hawaii")
View(state_map)
state_map <- map_data("state")%>%
select(-"alaska", -"hawaii")
View(state_map)
state_map <- map_data("state")%>%
filter(region ==  "hawaii")
state_map <- map_data("state")%>%
filter(region ==  "alaska")
state_map <- map_data("state")
starbucks_with_2018_pop_est%>%
select(-state_name %in% c("alaska", "hawaii"))
state_map <- map_data("state")
starbucks_with_2018_pop_est%>%
select( starbucks_with_2018_pop_est$state_name %in% c("alaska", "hawaii"))
starbucks_with_2018_pop_est%>%
starbucks_with_2018_pop_est[-c(1,12)]
starbucks_with_2018_pop_est%>%
starbucks_with_2018_pop_est[-c(1,12),]
starbucks_with_2018_pop_est<-
starbucks_with_2018_pop_est[-c(1,12),]
state_map <- map_data("state")
starbucks_with_2018_pop_est<-
starbucks_with_2018_pop_est[-c(1,12),]
starbucks_with_2018_pop_est%>%
ggplot()+
geom_map(map = state_map,
aes(map_id = state_name,
fill = starbucks_per_10000)) +
geom_point(data = Starbucks,
aes(x = Longitude, y = Latitude),
size = .05,
alpha = .2,
color = "darkgreen") +
expand_limits(x = state_map$long, y = state_map$lat) +
labs(title = "Starbucks in US") +
theme_map() +
theme(legend.background = element_blank())
state_map <- map_data("state")
starbucks_with_2018_pop_est<-
starbucks_with_2018_pop_est[-c(1,12),]
starbucks_with_2018_pop_est%>%
ggplot()+
geom_map(map = state_map,
aes(map_id = state_name,
fill = n)) +
geom_point(data = Starbucks,
aes(x = Longitude, y = Latitude),
size = .05,
alpha = .2,
color = "darkgreen") +
expand_limits(x = state_map$long, y = state_map$lat) +
labs(title = "Starbucks in US", caption = "By Debbie") +
theme_map() +
theme(legend.background = element_blank())
View(Starbucks)
View(state_map)
View(favorite_stp_by_lisa)
favorite <- tibble(
place = c("Home", "Macalester College", "MIA",
"Grand Catch", "Mill City Museum", "Kowloon",
"Sidewalk Kitchen", "City Hall", "Como Zoo Park",""),
long = c(-82.476770, -93.1712321, -93.272755 ,
-93.165296,-93.27041, -93.224551,
-93.226371,-93.093855 , -93.148007, -93.209999),
lat = c(42.804690, 44.9378965, 44.958184,
44.934765, 44.984957, 44.973636,
44.973674, 44.9438,  44.979776,44.915001)
)
favorite <- tibble(
place = c("Home", "Macalester College", "MIA",
"Grand Catch", "Mill City Museum", "Kowloon",
"Sidewalk Kitchen", "City Hall", "Como Zoo Park",""),
long = c(-82.476770, -93.1712321, -93.272755 ,
-93.165296,-93.27041, -93.224551,
-93.226371,-93.093855 , -93.148007, -93.209999),
lat = c(42.804690, 44.9378965, 44.958184,
44.934765, 44.984957, 44.973636,
44.973674, 44.9438,  44.979776,44.915001)
Top_3  = c("Yes", "Yes", "No",
favorite <- tibble(
place = c("Home", "Macalester College", "MIA",
"Grand Catch", "Mill City Museum", "Kowloon",
"Sidewalk Kitchen", "City Hall", "Como Zoo Park",""),
long = c(-82.476770, -93.1712321, -93.272755 ,
-93.165296,-93.27041, -93.224551,
-93.226371,-93.093855 , -93.148007, -93.209999),
lat = c(42.804690, 44.9378965, 44.958184,
44.934765, 44.984957, 44.973636,
44.973674, 44.9438,  44.979776,44.915001)
Top  = c("Yes", "Yes", "No",
favorite <- tibble(
place = c("Home", "Macalester College", "MIA",
"Grand Catch", "Mill City Museum", "Kowloon",
"Sidewalk Kitchen", "City Hall", "Como Zoo Park",""),
long = c(-82.476770, -93.1712321, -93.272755 ,
-93.165296,-93.27041, -93.224551,
-93.226371,-93.093855 , -93.148007, -93.209999),
lat = c(42.804690, 44.9378965, 44.958184,
44.934765, 44.984957, 44.973636,
44.973674, 44.9438,  44.979776,44.915001),
Top_3  = c("Yes", "Yes", "No",
"No","No","Yes",
"No", "No","No","No")
)
View(favorite)
favorite <- tibble(
place = c("Home", "Macalester College", "MIA",
"Grand Catch", "Mill City Museum", "Kowloon",
"Sidewalk Kitchen", "City Hall", "Como Zoo Park","Minnehaha Park"),
long = c(-82.476770, -93.1712321, -93.272755 ,
-93.165296,-93.27041, -93.224551,
-93.226371,-93.093855 , -93.148007, -93.209999),
lat = c(42.804690, 44.9378965, 44.958184,
44.934765, 44.984957, 44.973636,
44.973674, 44.9438,  44.979776,44.915001),
Top_3  = c("Yes", "Yes", "No",
"No","No","Yes",
"No", "No","No","No")
)
favorite <- tibble(
place = c("Home", "Macalester College", "MIA",
"Grand Catch", "Mill City Museum", "Kowloon",
"Sidewalk Kitchen", "City Hall", "Como Zoo Park","Minnehaha Park"),
long = c(-82.476770, -93.1712321, -93.272755 ,
-93.165296,-93.27041, -93.224551,
-93.226371,-93.093855 , -93.148007, -93.209999),
lat = c(42.804690, 44.9378965, 44.958184,
44.934765, 44.984957, 44.973636,
44.973674, 44.9438,  44.979776,44.915001),
Top_3  = c("Yes", "Yes", "No",
"No","No","Yes",
"No", "No","No","No")
)
leaflet(data = favorite) %>%
addProviderTiles(providers$Stamen.Watercolor) %>%
addCircles(lng = ~long,
lat = ~lat,
label = ~place,
weight = 10,
opacity = 1,
color = col2hex("darkblue"))
